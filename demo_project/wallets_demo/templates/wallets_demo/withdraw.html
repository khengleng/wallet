{% extends 'wallets_demo/base.html' %}
{% load i18n %}

{% block title %}{% trans "Withdraw" %} - DJ Wallet{% endblock %}

{% block content %}
<div style="max-width: 500px; margin: 0 auto;">
    <div class="card">
        <h1>{% trans "Withdraw Funds" %}</h1>
        <p class="text-muted mb-4">{% trans "Take money out of your virtual wallet balance." %}</p>

        <div class="alert alert-info"
            style="font-size: 0.875rem; background: #eff6ff; color: #1e40af; border-color: #bfdbfe;">
            {% trans "Current Balance" %}: <strong>{{ selected_balance|floatformat:2 }} {{ selected_currency }}</strong>
        </div>

        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="currency">{% trans "Currency" %}</label>
                <select name="currency" id="currency" required>
                    {% for c in supported_currencies %}
                    <option value="{{ c }}" {% if c == selected_currency %}selected{% endif %}>{{ c }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="amount">{% trans "Amount" %}</label>
                <input type="number" step="0.01" name="amount" id="amount" placeholder="{% trans '0.00' %}" required>
            </div>
            <div class="form-group">
                <label for="description">{% trans "Description (Optional)" %}</label>
                <input type="text" name="description" id="description" placeholder="{% trans 'e.g. ATM Withdrawal' %}">
            </div>
            <div class="form-group">
                <label for="maker_note">{% trans "Maker Note (Optional)" %}</label>
                <textarea name="maker_note" id="maker_note" rows="3"
                    placeholder="{% trans 'Required context for checker approval if maker-checker applies' %}"></textarea>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%; background-color: var(--danger);">{% trans "Complete Withdrawal" %}</button>
        </form>
    </div>
    <a href="{% url 'dashboard' %}" class="btn btn-outline" style="width: 100%;">{% trans "Back to Dashboard" %}</a>
</div>
{% endblock %}
